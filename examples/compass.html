<html>
<head>

<style>
body { 
	background-color:#f2eeeb; 
	font:normal 8pt copse, serif;
}
a:link, a:visited {
	color:#9093CE;
}
.buck-up,
.remaining {
	display:block;
	font-size:28pt;
	line-height:1.3em;
	margin:20px 0;
}
.buck-up {
	font-size:26pt;
}
.buck-up strong {
	text-transform:uppercase;
}
.compass {
	font-family:copse, serif;
	text-align:center;
	text-shadow:0 1px #fff;
}
.container {
	margin:auto;
	text-align:center;
	width:320px;
}
.digit {
	background-color:#231f20;
	box-shadow:3px 3px #cdbfbc;
	color:#fff;
	display:inline-block;
	margin-right:5px;
	padding:10px 10px;
}
.digit:nth-child(2n+1) {
	position:relative;
	top:-3px;
}
.distance {
	font:normal 40pt copse, arial;
}
</style>
</head>
<body>
        <div class="container">
			<p class="compass"></p>
			<p>Powered by <a href="blog.rjzaworski.com/2011/09/geous-js-geolocation-made-easy/">Geous</a></p>
        </div><!--.container -->
<script src="../src/geous.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>

	function compass(destination) {

		var me = geous.Me,
			heading,
			distance,
			_digits = function(num) {
				num = num.toString();
				return num.replace(/([0-9])/g,'<span class="digit">$1</span>');
			};

		heading = geous.compute.compassHeading(me, destination, true);
		distance = geous.compute.distanceBetween(me, destination);

		if (distance < 10) {
			return 'You\'re made it, mate!';
		} else {
			return '<span class="buck-up">Keep walking <strong>' + heading + '</strong>, soldier&mdash;</span><span class="distance">' + _digits(Math.round(distance*10)/10) + '</span>km<span class="remaining">left between you and a decent beer.</span>';
		}
	}
	
	function init() {

		var $ = jQuery;
	
		var beervana = new google.maps.LatLng(45.521744, -122.695313);		
		$('.compass').html( compass(beervana) );
	}
	
	geous.withMe( init );
</script>

</body>
</html>